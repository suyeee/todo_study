# ì¥ê³ ê°€ í•˜ëŠ”ì¼

- ì‚¬ìš©ìê°€ ì‚¬ìš©í• ìˆ˜ìˆëŠ” ì•±ì„ í•˜ë‚˜í•˜ë‚˜ì”© ì¶”ê°€í•´ì¤˜ì•¼í•œë‹¤

- ê·¸ë˜ì„œ ì–´ì œ `blog app`ì´ë‘, `single_pages app`ì„ ì¶”ê°€í–ˆì—ˆë‹¤.
  - ì–˜ë„¤ë“¤ì€ CBD ê°œë°œë°©ì‹ ì´ë¼ê³  í•˜ëŠ”ë° 
    - CBD ëŠ” Component Based Developement
    - CBD ì˜ ì¥ì . ì‹±ê¸€í˜ì´ì§€ ë”°ë¡œ ë¸”ë¡œê·¸ ì„œë¹„ìŠ¤ ë”°ë¡œë”°ë¡œ ë§Œë“¤ì–´ ì¤„ìˆ˜ìˆë‹¤ëŠ”ê²ƒ.
    - ì´ê²ƒë“¤ì´ í•©ì³ì ¸ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ ì„œë¹„ìŠ¤ê°€ ëœë‹¤.
- `mc_django01` ì—ì„œ í•˜ëŠ” ì¼ì€ url, model(DB) ê°™ì´ ë°ì´í„°ë² ì´ìŠ¤ì™€ ê´€ë ¨ëœ ì• ë“¤ì„ ê´€ë¦¬í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.
- url (controller) ì— ëŒ€í•œ ì—­í• 
  - ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ìš”ì²­ ë¶„ê¸°ê°€ ë˜ê³  ìš”ì²­ì— ë§ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë·°ë¥¼ ì‹¤í–‰ì„ í•œë‹¤.




****

##### +Djangoì—ì„œ Viewë¥¼ ë§Œë“œëŠ” 2ê°€ì§€ ë°©ì‹

1. FBV - Function Based View

- í•¨ìˆ˜ ê¸°ë°˜ ë·°



2. CBV - Class Based View

- í´ë˜ìŠ¤ ê¸°ë°˜ ë·°
- ì‹¤ë¬´ì—ì„œ ë” ë§ì´ ì‚¬ìš©í•˜ëŠ” ë°©ì‹
- êµ¬ì¡°í™”ê°€ ì¢€ ì–´ë ¤ìš¸ìˆ˜ìˆìŒ.



++++



## Django ì‹¤ìŠµ (ê²Œì‹œíŒ, í™ˆí˜ì´ì§€ ë§Œë“¤ì–´ë³´ê¸°)



1. blog ì˜ `views.py` ë¡œ ë“¤ì–´ê°„ë‹¤.

```python
# requestì˜ ì—­í• : ê°ì¢… í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì •ë³´ê°€ ìë™ìœ¼ë¡œ ì„œë²„ë¡œ ì„¸íŒ…ë˜ì–´ ë“¤ì–´ê°€ê²Œ í•´ì¤€ë‹¤
# 'request'ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì •ë³´ë¥¼ ë‹´ê³ ìˆëŠ” ìš”ì²­ ê°ì²´ë‹¤. parameter, header ë“±ë“±...

from django.shortcuts import render
# render ëŠ” ì–´ì œì„¤ëª…í•œ 6ë²ˆ ê³¼ì •ì„ ë‹´ë‹¹í•´ì£¼ëŠ” í•¨ìˆ˜ì´ë‹¤. (views.py ì—ì„œ template(íƒ¬í”Œë¦¿)ìœ¼ë¡œ ë³´ë‚´ì£¼ëŠ” ê³¼ì •)

# Create your views here.
def index(request):
    '''
    'request': í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì •ë³´ë¥¼ ë‹´ê³ ìˆëŠ” ìš”ì²­ ê°ì²´ë‹¤. parameter, header ë“±ë“±...
    '''
    # ë¦¬í„´ì„ í•˜ëŠ” ìˆœê°„ í•¨ìˆ˜ëŠ” ëë‚œë‹¤. ì¦‰, í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µì„ í•´ì¤€ë‹¤. ë¼ëŠ”ê²ƒ. í˜ì´ì§€ë¥¼ ë Œë”ë§ í•´ì„œ ì‘ë‹µì„ í•´ì¤€ë‹¤.
    # returnì„ í•˜ëŠ” ìˆœê°„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µ(response)ì´ ëœë‹¤.
    return render(
        request,          # ìš”ì²­í•œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µì„ í•´ì•¼í•˜ê¸°ë•Œë¬¸ì— ìš”ì²­ê°ì²´ë¥¼ ë„£ì–´ì¤€ë‹¤.
        'blog/index.html' # í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë³´ì—¬ì¤„ í™”ë©´(html)ì„ ì¤€ë‹¤!
    )
```



2. blogì˜ `urls.py` ë¡œ ë“¤ì–´ì™€ì„œ

```powershell
í™ˆ í˜ì´ì§€ : http://127.0.0.1:8000/
ë¸”ë¡œê·¸ í˜ì´ì§€ : http://127.0.0.1:8000/blog/
ë¸”ë¡œê·¸ ê²Œì‹œê¸€ ìƒì„¸ : http://127.0.0.1:8000/blog/í¬ìŠ¤íŠ¸ì˜ pk
ìê¸°ì†Œê°œ í˜ì´ì§€ : http://127.0.0.1:8000/about/
```

ì´ê±¸ blogì˜ `urls.py` ì˜  `urlpatterns` ì— ë‚´ìš©ì„ ì±„ì›Œë„£ì–´ì¤€ë‹¤.

```python
# ê²½ë¡œ ë§Œë“¤ì–´ ì£¼ê¸°
from django.urls import path   # ì‚¬ìš©ìê°€ ìš”ì²­í• ìˆ˜ìˆëŠ” url ë§Œë“¤ì–´ì£¼ê¸°
from . import views

# urlpatterns : ì‚¬ìš©ìê°€ ìš”ì²­í•œ url ì— ëŒ€í•œ ê¸°ëŠ¥(view) ì •ì˜
urlpatterns = [
                               # ì´ë¶€ë¶„ì„ ì±„ì›Œê°€ë©´ì„œ ë§Œë“¤ ì˜ˆì •
    path('', views.index)      # ì‚¬ìš©ìê°€ ë¸”ë¡œê·¸ ë’¤ì— ì•„ë¬´ê²ƒë„ ë¶™ì´ì§€ ì•Šê³  ìš”ì²­ì„ í•˜ë©´ views.indexë¥¼ ì‹¤í–‰í•´ì£¼ê² ë‹¨ê²ƒ
]

```



3. í„°ë¯¸ë„ ì—´ì–´ì¤€ë‹¤

```powershell
(base) C:\Users\suyeo\mc_python\mc_django01>python manage.py runserver 
```

ì¶œë ¥

```powershell
Watching for file changes with StatReloader
Performing system checks...

System check identified no issues (0 silenced).
April 22, 2022 - 10:02:38
Django version 3.0.6, using settings 'mc_django01.settings'
Starting development server at http://127.0.0.1:8000/
Quit the server with CTRL-BREAK.
```

ë§í¬ë¡œ ë“¤ì–´ê°€ë©´ ì´ë ‡ê²Œ ëœ¬ë‹¤.

![image-20220422100343577](220422.assets/image-20220422100343577.png)



ì£¼ê³  ë§í¬ ë’¤ì— /blog / ì³ë³´ê³  ì•ˆë˜ë©´ /blog ë¡œ ìŠ¬ëŸ¬ì‰¬ ì—†ì• ê³  ì³ì¤€ë‹¤. 

![image-20220422100548237](220422.assets/image-20220422100548237.png)



ê·¸ëŸ¬ë©´ ì´ì œëŠ” íƒ¬í”Œë¦¿ì´ ì—†ë‹¤ê³  ëœ¬ë‹¤. `blog/index.html` ì´ê²Œ ì—†ë‹¤. ì•„ì§ ì„¤ì •ì„ ì•ˆí–ˆìœ¼ë‹ˆ

 ì˜¤ë¥˜ë¥¼ í•´ê²°í•˜ê¸°ìœ„í•´ blog ì˜ urls.pyì—ì„œ `urlpatterns` ì—ì„œ 

```python
urlpatterns = [
    path('/', views.index) # '/' ë¡œ ì±„ì›Œë„£ì–´ì¤€ë‹¤.
]
```



ë‹¤ì‹œ ë§í¬ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ìë™ìœ¼ë¡œ `http://127.0.0.1:8000/blog/` ë§¨ë’¤ì— ìŠ¬ëŸ¬ì‰¬(/) ê°€ ë¶™ì–´ë“¤ì–´ê°„ë‹¤

ì´ì œ í´ë”ë¥¼ ë§Œë“¤ì–´ì•¼ë˜ëŠ”ë° ë°˜ë“œì‹œ í´ë”ì˜ ì´ë¦„ì„ `templates` ë¡œ ë§Œë“¤ì–´ì•¼ëœë‹¤.



4. ì´ì œ ë¸”ë¡œê·¸ì•±ì—ì„œ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ìˆ˜ìˆëŠ” ê°œë°œì„ í•´ì¤„êº¼ë‹¤.

### templates í´ë” ë§Œë“¤ê¸°

![ìŠ¤í¬ë¦°ìƒ·(1011)_LI](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1011)_LI.jpg)

![ìŠ¤í¬ë¦°ìƒ·(1012)_LI](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1012)_LI.jpg)



![ìŠ¤í¬ë¦°ìƒ·(1014)_LI](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1014)_LI.jpg)



![ìŠ¤í¬ë¦°ìƒ·(1015)_LI](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1015)_LI.jpg)

ì•±ì˜ ì´ë¦„ê³¼ ë˜‘ê°™ì´ ë§Œë“¤ì–´ì¤˜ì•¼í•¨.



![ìŠ¤í¬ë¦°ìƒ·(1016)_LI](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1016)_LI.jpg)

blog í´ë”ë¥¼ ì„ íƒí•˜ë©´ blog ê¸€ì ë°‘ì— ë°‘ì¤„ì´ ìƒê¸´ë‹¤.



![ìŠ¤í¬ë¦°ìƒ·(1017)_LI](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1017)_LI.jpg)

íŒŒì¼ì„ í•˜ë‚˜ ë§Œë“¤ì–´ì¤€ë‹¤.



![ìŠ¤í¬ë¦°ìƒ·(1018)_LI](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1018)_LI.jpg)



![ìŠ¤í¬ë¦°ìƒ·(1019)_LI](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1019)_LI.jpg)

ìš”ë ‡ê²Œ ëœ¨ë©´ `index.html` ì´ ì˜ ë§Œë“¤ì–´ì§„ê±°ë‹¤.



### HTML ë„êµ¬ ì„¤ì¹˜

ì¢€ë” í¸í•˜ê²Œ html ì„ ì‚¬ìš©í• ìˆ˜ìˆê²Œ í™•ì¥ íƒ­ìœ¼ë¡œ ì™€ì„œ `html` ê²€ìƒ‰

![image-20220422101807674](220422.assets/image-20220422101807674.png)

ì–˜ë„¤ ì„¤ì¹˜í•´ì¤€ë‹¤. ê·¸ëŸ¼ ì´ì œ html íŒŒì¼ ì‘ì—…í• ë•Œ í•˜ë‚˜í•˜ë‚˜ ê¸°ë³¸ ë¼ˆëŒ€ ì‘ì„±í•  í•„ìš”ì—†ê³  `! + tab í‚¤` ëˆ„ë¥´ë©´ ê¸°ë³¸ ë¼ˆëŒ€ê°€ ë¶ˆëŸ¬ì™€ì§„ë‹¤.



ë˜ í•˜ë‚˜ëŠ” ëª»ìƒê¸´ ì½”ë“œë“¤ ìˆ˜ì •í•´ì£¼ëŠ” ë„êµ¬ë„ ì„¤ì¹˜

![image-20220422101858390](220422.assets/image-20220422101858390.png)



```html
<html lang="ko">                                            # ì›ë˜ëŠ” 'en' ìœ¼ë¡œ ë˜ì–´ìˆë˜ê±¸ 'ko' ë¡œ ë°”ê¿”ì¤€ë‹¤.
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">   # ì´ê±´ ê± ìµìŠ¤í”Œë¡œëŸ¬ë¥¼ ì—£ì§€ë¡œ ë¹„ê¿”ì£¼ê²Ÿë‹¨ê²ƒ
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>
</head>
<body>
    
    <h1>Blog</h1>

</body>
</html>
```



5. ë‹¤ì‹œ ì„œë²„ ìƒˆë¡œê³ ì¹¨í•˜ë©´ 

![image-20220422103048132](220422.assets/image-20220422103048132.png)



ì´ë ‡ê²Œ ëœ¬ë‹¤.



ê·¼ë° ì„œë²„ ì‹¤í–‰í• ë•Œ `WARNINGS`ì´ ë– ì„œ ì‚´ì§ ìˆ˜ì •ì„ í•´ì¤€ë‹¤. (ë¬¸ì œëŠ” ì—†ì§€ë§Œ ì°ì°í•˜ë‹ˆê¹...ìˆ˜ì •...)

```powershell
# ì˜¤ë¥˜ë©”ì„¸ì§€
System check identified some issues:

WARNINGS:
?: (urls.W002) Your URL pattern '/' has a route beginning with a '/'. Remove this slash as it is unnecessary. If this pattern is targeted in an include(), ensure the 
include() pattern has a trailing '/'.
```



**ì˜¤ë¥˜ìˆ˜ì •**

```python
# mc_django ì˜ 'urls.py' ë¡œ ë“¤ì–´ê°€ì„œ
urlpatterns = [
    path('blog/', include('blog.urls')), # blog ë’¤ì— '/' ë¶™ì—¬ì¤€ë‹¤.
    path('admin/', admin.site.urls),
]
```

```python
# blog ì˜ 'urls.py' ë¡œ ë“¤ì–´ê°€ì„œ
urlpatterns = [
    path('', views.index)  # '/' ìŠ¬ëŸ¬ì‰¬ ë¹¼ê³  ë¹ˆì¹¸ìœ¼ë¡œ ë‘”ë‹¤.
]
```



6. blogì˜ `views.py` ì—ì„œ ì‘ì—… ì§„í–‰

```python
from django.shortcuts import render
from .models import Post # models ë¶ˆëŸ¬ì˜¨ë‹¤.

def index(request):

    posts = Post.objects.all() #ì¿¼ë¦¬ë¡œ ì¹˜ë©´ 'SELECT * FROM Post' ì™€ ê°™ë‹¤. CRUDì˜ R(read) ì— í•´ë‹¹
    
    return render(
        request, 
        'blog/index.html',
        {
            # ë”•ì…”ë„ˆë¦¬ í˜•íƒœë¡œ jsonì„ ë³´ë‚´ì¤„êº¼ë‹¤
            'posts' : posts, #html ì˜ ì´ë¦„ê³¼ ë˜‘ê°™ì´ ì„¤ì •í•´ì£¼ëŠ”ê²Œ í¸í•˜ë‹¤. posts ëŠ” CRUDì˜ ê²°ê³¼ë¬¼ì„ ë°›ì•„ì„œ ê°€ì ¸ì˜¨ë‹¤.
            
        }
    )
```

![image-20220422104954899](220422.assets/image-20220422104954899.png)



ì—¬ê¸°ì— HTML ì„ ë§Œë“¤ì–´ì£¼ëŠ” ì‘ì—…ì„ í• êº¼ë‹¤.

![image-20220422110236693](220422.assets/image-20220422110236693.png)





****

##### +HTML ì—ì„œì˜ ì½”ë”©ë°©ë²•

1. ë³€ìˆ˜ì— ë“¤ì–´ìˆëŠ” ê°’ì„ í‘œí˜„

- print  
  - but, ì´ì œëŠ” print ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê² ë‹¤ëŠ”ê²ƒ
- {{ë³€ìˆ˜ëª…}} - HTML í˜ì´ì§€ì— ë³€ìˆ˜ê°€ ê°€ì§€ê³  ìˆëŠ” ê°’ì„ ì¶œë ¥



2. ë¬¸ë²•ì ì¸ ìš”ì†Œ

+ if, elif, else,for,while...
+ {% %} ~{% %}
  + ì˜ˆì‹œ) {% for %} ~{% endfor %}



****



7. ë‹¤ì‹œ ëŒì•„ì™€ì„œ,

`index.html` íŒŒì¼ì—ì„œ ì„¤ì • ë³€ê²½í•´ì£¼ê³ 

```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>

    <style>
        .title{
            color: beige;
            background-color: skyblue;
        }
    </style>
</head>
<body>
    <h1>Blog</h1>
    #ì—¬ê¸°ì„œ posts ëŠ” ì•„ê¹Œ views.py ì— ì…ë ¥í•œ ê·¸ posts ì´ë‹¤. CRUD ê²°ê³¼ë¬¼ì„ ë°›ì•„ì™€ì£¼ëŠ”...
    {% for p in posts %} 
        <h3 class="title">{{ p }}</h3>
    {% endfor %}
</body>
</html>
```



ì„œë²„ë¡œ ë“¤ì–´ê°€ì„œ ë³´ë©´

![image-20220422111608415](220422.assets/image-20220422111608415.png)





8.  ì„œë²„ ë“¤ì–´ê°”ì„ë•Œ ì œëª©, ì‹œê°„, ë‚´ìš© ë‹¤ ê°™ì´ ë³´ì´ê²Œ ì‘ì—…

html ì£¼ì„ ë‹¨ì¶•í‚¤ëŠ” `ctrl+ /` ë‹¤.

```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>

    <style>
        .title:hover{         # hover ë„£ì–´ì¤€ë‹¤
            color: beige;
            background-color: skyblue;
        }
    </style>
</head>
<body>
    <h1>Blog</h1>
    {% for p in posts %}
        <!-- <h3 class="title">{{ p }}</h3> --> # ì–˜ë„¤ ì£¼ì„ì²˜ë¦¬ í•´ì£¼ê³ 
        <hr />                           # ì–˜ë„¤ ì½”ë”©í•´ì¤€ë‹¤.
        <h2>{{ p.title }}</h2>
        <h4>{{ p.created_at }}</h4>
        <p>{{ p.content }}</p>
    {% endfor %}
</body>
</html>
```



ì„œë²„ë¡œ ë“¤ì–´ê°€ë³´ë©´

![image-20220422112149434](220422.assets/image-20220422112149434.png)





9.  ì—­ìˆœ ì •ë ¬ì„ í•´ë³´ì!  ìµœì‹ ì˜ ê¸€ì´ ìƒìœ„ë¡œ ì˜¬ë¼ì˜¤ë„ë¡ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ì„ í•´ì¤€ë‹¤.

ë‚´ë¦¼ì°¨ìˆœì •ë ¬ì„ í• ìˆ˜ìˆë„ë¡ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‘ì—….

ê·¸ë˜ì„œ ìš°ë¦¬ê°€ ìˆ˜ì •í•´ì•¼í• êº¼ëŠ” 

```python
posts = Post.objects.all()
```

ì—¬ê¸°ë‹¤.

```python
posts = Post.objects.all().order_by('-pk')    # 'select * from Post ORDER BY pk DESC' ì™€ ê°™ì€ ì˜ë¯¸
                                              # '-pk' ëŠ” ì—­ìˆœ ì •ë ¬ì„ í• ìˆ˜ìˆê²Œ í•´ì¤€ë‹¤.

```



ì €ì¥í•˜ê³ ì„œ ì„œë²„ë¡œ ë“¤ì–´ê°€ì„œ ìƒˆë¡œê³ ì¹¨í•˜ë©´

![image-20220422112853316](220422.assets/image-20220422112853316.png)

ì´ë ‡ê²Œ ì—­ìˆœìœ¼ë¡œ ì˜ ë‚˜ì˜¨ë‹¤.





*****

##### +request ì‹œì— íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ì‹

+ ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì„ í™œìš©í•˜ëŠ” ë°©ì‹ 
  + url ë’¤ìª½ì— ë¬¼ìŒí‘œë¥¼ ë¶™ì—¬ì¤€ë’¤ ê·¸ ë’¤ì— íŒŒë¼ë¯¸í„°ë¥¼ ì‘ì„±í•˜ëŠ” ë°©ì‹
  + ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì€? url ë’¤ìª½ì— ë¬¼ìŒí‘œ ë’¤ìª½ 
  + ì˜ˆì‹œ) url?key=1=value1&key2=value2
    

+ Path Parameter í™œìš© 
  + ìš”ì¦˜ì— ë§ì´ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤.
  + ì˜ˆì‹œ) url/<param1>/<param2>



+ ë‘˜ë‹¤ get ë°©ì‹ì—ì„œ ë§ì´ ì‚¬ìš©

******





10. 

```python
def single_post_page(request, pk): # Path Parameter ì‚¬ìš©í•˜ê¸°
                                   # ë§¤ê°œë³€ìˆ˜ëª…ì€ ë°˜ë“œì‹œ íŒŒë¼ë¯¸í„°ì˜ ì´ë¦„ì´ ë˜ì–´ì•¼í•œë‹¤.
    '''                           
        pk : ê¸€ë²ˆí˜¸(primary key)
    '''
    post = Post.objects.get(pk=pk) #FROM ì ˆ ì´ë¼ê³  ìƒê°í•˜ë©´ë¨. ì˜¤ë¥¸ìª½ pkëŠ” í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°
    
    return render(
        request,
        'blog/single_post_page.html',
        {
            'post' : post   #ì–˜ë„¤ê°€ attribute. ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸í•œí…Œ ì£¼ëŠ”ê±°
        }
    )
```

![image-20220422113811326](220422.assets/image-20220422113811326.png)





ì „ì²´ì ìœ¼ë¡œ ì½”ë“œ ë³´ë©´

```python
#blogì˜ 'views.py' ì „ì²´ì½”ë“œ (ì£¼ì„ ì—†ì´ ë³´ë©´)

from django.shortcuts import render
from .models import Post

def index(request):

    posts = Post.objects.all().order_by('-pk') 
    
    return render(
        request, 
        'blog/index.html', 
        {
            'posts' : posts 
        }
    )

def single_post_page(request, pk):

    post = Post.objects.get(pk=pk) 
    
    return render(
        request,
        'blog/single_post_page.html',
        {
            'post' : post
        }
    )
```



11. ë‹¤ì‹œ `templates` í´ë”ì— ìˆëŠ” `blog` í´ë”ì— ìƒˆ íŒŒì¼ì„ ë§Œë“¤ì–´ ì¤„êº¼ë‹¤. 



ì´ìœ  : **`single_post_page` ë©”ì†Œë“œì˜ return render ë¶€ë¶„ì˜ `blog/single_post_page.html` ë¥¼ ë§Œë“¤ì–´ì£¼ê¸°ìœ„í•´**



`templates \blog `  í´ë” ì„ íƒí›„ ìƒˆ íŒŒì¼ ë§Œë“¤ì–´ì£¼ê¸°

![ìŠ¤í¬ë¦°ìƒ·(1047)_LI](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1047)_LI.jpg)



![ìŠ¤í¬ë¦°ìƒ·(1048)_LI](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1048)_LI.jpg)



html íŒŒì¼ì„ ë§Œë“¤ê³ ë‚˜ì„œ íŒŒì¼ì„ ì—´ì–´ì¤€ë’¤ `! + tab í‚¤` ëˆŒëŸ¬ì„œ ê¸°ë³¸í˜•ì‹ì„ ë¶ˆëŸ¬ì˜¨ë‹¤.

![ìŠ¤í¬ë¦°ìƒ·(1052)_LI](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1052)_LI.jpg)



`ctrl + s` ëˆŒëŸ¬ì„œ ì €ì¥í•´ì¤€ë’¤ 



12. blog ì˜ `urls.py` íŒŒì¼ì— ë“¤ì–´ê°€ì„œ

blogì˜ `views.py` íŒŒì¼ì—ì„œ ì‚¬ìš©í•œ pk ì™€ ê°™ì€ ì´ë¦„ì„ ì‚¬ìš©í•´ì¤€ë‹¤.

```python
urlpatterns = [
    path('', views.index),
    path('<int:pk>/', views.single_post_page) #url/blog/<pk>/
]
```



ì„œë²„ ì£¼ì†Œì°½ì— `1` ì„ ì…ë ¥í•´ì¤€ë‹¤. `1` ì„ ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ë’¤ì— `/` ê°€ ë¶™ëŠ”ë‹¤ 

![ìŠ¤í¬ë¦°ìƒ·(1055)](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1055).png)

Enter ì³ì„œ ì„œë²„ ë“¤ì–´ê°€ë³´ë©´ 

![image-20220422115320200](220422.assets/image-20220422115320200.png)

ì´ë ‡ê²Œ ëœ¨ë©´ëœë‹¤. ì•„ì§ HTML ì„¸ë¶€ ì„¤ì •ì„ ì•ˆí•´ì¤˜ì„œ ì €ë ‡ê²Œ ë– ì•¼ë¨.



13. ì´ì œ single_page ì„¸ë¶€ì„¤ì •ì„ í•´ì¤€ë‹¤

`single_post_page.html` ì—ì„œ ì‘ì—…í•´ì¤€ë‹¤

```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- ë¸Œë¼ìš°ì € ìƒë‹¨ íƒ­ì— í‘œì‹œë  ë¬¸ìì—´ ë°”ê¿”ë³´ê¸° -->
    <title>{{ post.title }} - Blog</title>
</head>
<body>
    <!-- ë©”ë‰´ë¥¼ êµ¬ì„±í• ë•ŒëŠ” <nav>íƒœê·¸ë¥¼ ì‚¬ìš©í•œë‹¤. -->
        <nav>
            <a href="/blog/">Blog</a>
        </nav>
        <!-- h1ìœ¼ë¡œ ê²Œì‹œê¸€ ì œëª©, h4ë¡œ ê²Œì‹œê¸€ ì‘ì„±ì‹œê°„, pë¡œ ê²Œì‹œê¸€ ë‚´ìš© -->
        <h1>{{ post.title }}</h1>
        <h4>{{ post.created_at }}</h4>
        <p>{{ post.content }}</p>
        <hr />
        <h3>ë‚˜ì¤‘ì— ì—¬ê¸°ì— ëŒ“ê¸€ì´ë‚˜ ê¸°íƒ€ ë¸”ë¡œê·¸ í•˜ë‹¨ì„ ê¾¸ë©°ì¤„ìˆ˜ë„ìˆë‹¤.</h3>
</body>
</html>
```



ì €ì¥í›„ì— `crtl + s` 

ì„œë²„ë¡œ ë“¤ì–´ê°€ë³´ë©´

![image-20220422131139232](220422.assets/image-20220422131139232.png)





14. 2ë²ˆê¸€ ì¡°íšŒ



![ìŠ¤í¬ë¦°ìƒ·(1058)](220422.assets/ìŠ¤í¬ë¦°ìƒ·(1058).png)





![image-20220422131326885](220422.assets/image-20220422131326885.png)





15. ë©”ì¸í˜ì´ì§€ì—ì„œ ê¸€ì„ ëˆ„ë¥´ë©´ ìƒì„¸í˜ì´ì§€ë¡œ ë“¤ì–´ê°€ì§€ëŠ”ê±¸ ë§Œë“¤ì–´ë³´ì

`index.html` íŒŒì¼ë¡œ ë“¤ì–´ê°€ì„œ

```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>

    <style>
        .title:hover{
            color: beige;
            background-color: skyblue;
        }
    </style>
</head>
<body>
    <h1>Blog</h1>
    {% for p in posts %}
        <!-- <h3 class="title">{{ p }}</h3> -->
        <hr />
        <h2><a href="{{ p.get_absolute_url }}">{{ p.title }}</a></h2>
        <!-- <h4>{{ p.created_at }}</h4>
        <p>{{ p.content }}</p> -->
    {% endfor %}
</body>
</html>
```



ì„œë²„ ìƒˆë¡œê³ ì¹¨ í•´ë³´ë©´

![image-20220422132039101](220422.assets/image-20220422132039101.png)



ì´ë ‡ê²Œ ëœ¨ëŠ”ë° ëˆ„ë¥¸ë‹¤í•´ë„ ìƒì„¸í˜ì´ì§€ë¡œ ì´ë™ì€ ì•ˆëœë‹¤. ì•„ì§ ì•ˆë§Œë“¤ì–´ì„œ



![image-20220422132310821](220422.assets/image-20220422132310821.png)



![image-20220422132431505](220422.assets/image-20220422132431505.png)



![image-20220422132456183](220422.assets/image-20220422132456183.png)



ë‹¤ì‹œ blogì˜ `models.py` ë¡œ ë“¤ì–´ì™€ì„œ í•˜ë‹¨ìª½ì—

```python
def get_absolute_url(self):
        pass
```



![image-20220422132713375](220422.assets/image-20220422132713375.png)







![image-20220422132851889](220422.assets/image-20220422132851889.png)

ê°ê° í¬ìŠ¤ í´ë˜ìŠ¤ì˜ ê°ì²´ë“¤ì€ ê°ê°ì˜ ì‹¤ì œ low ë“¤ì„ ì˜ë¯¸í•œë‹¤. 

ë°ì´í„°ë¥¼ ì—¬ëŸ¬ê°œ ë¶ˆëŸ¬ì™€ë†“ê³  í•˜ë‚˜ì”© í˜ì´ì§€ì— í‘œí˜„í•˜ëŠ” ë°©ì‹ì´ë‹¤.



(blogì˜ `models.py` í•˜ë‹¨ì— ì‘ì„±)

```python
#ëª¨ë¸ì˜ ë ˆì½”ë“œ ë³„(ê°ì²´ ë³„) URL ìƒì„±ê·œì¹™ ì •ì˜
    def get_absolute_url(self): # ì¥ê³ ë¡œ ë¶€í„° ì˜¤ë²„ë¼ì´ë”©ëœ ë©”ì†Œë“œë‹¤.
        # ì¥ê³ ê°€ ê¸°ë³¸ì ì¸ ë¼ˆëŒ€ëŠ” ë§Œë“¤ì–´ì¤¬ê³  ê·œì¹™ë§Œ ì •ì˜í•´ì¤˜ë¼~ ë¼ëŠ”ê²ƒ
        # /blog/<pk>/
        
        return f'/blog/{self.pk}/'
```





![image-20220422133459922](220422.assets/image-20220422133459922.png)





![image-20220422133557652](220422.assets/image-20220422133557652.png)



ì´ì œ blog ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìƒì„¸í˜ì´ì§€ë¡œ ê°ê° ì ‘ì†ì´ ëœë‹¤.



![image-20220422133646558](220422.assets/image-20220422133646558.png)



![image-20220422133807898](220422.assets/image-20220422133807898.png)





16. single_pages ë¥¼ ë§Œë“¤êº¼ë‹¤. (ìê¸°ì†Œê°œ í˜ì´ì§€)

mc_django01 ì—ì„œ `urls.py`ë¡œ ë‹¤ì‹œ ë“¤ì–´ì™€ì„œ 

```python
urlpatterns = [
    # í´ë¼ì´ì–¸íŠ¸ê°€ blog/ ë¡œ ì ‘ì†í•˜ë©´ blog.urls.pyë¥¼ ì°¸ì¡°í•˜ë„ë¡ í•œë‹¤.
    path('blog/', include('blog.urls')),
    path('admin/', admin.site.urls),
    path('',include('single_pages.urls'))
]
```



single_pages í´ë”ì—  `urls.py`  íŒŒì¼ì„ ìƒˆë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.

```python
from django.urls import path
from . import views

#ëŒ€ë¬¸í˜ì´ì§€ : '
#ìê¸°ì†Œê°œ í˜ì´ì§€ : about_me/
urlpatterns = [
    path('', views.home),
    path('about_me/', views.about_me)  #ì•„ì§ ë§Œë“¤ì§„ ì•Šì•˜ì§€ë§Œ ë¯¸ë¦¬ ì¨ë†“ì~
]

```





17. ì´ì œ single_pages í´ë”ì˜ `views.py` íŒŒì¼ì—ì„œ  í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤.

```python
from django.shortcuts import render

# Create your views here.
def home(request):
    return render(
        request,
        'single_pages/home.html'
    )


def about_me(request):
    return render(
        request,
        'single_pages/about_me.html'
    )
```





18. single_pages ì— `templates` í´ë” ë§Œë“¤ê³  í•˜ë‹¨ì— single_pages í´ë”ë¥¼ ë˜ ë§Œë“ ë’¤ í•„ìš”í•œ html íŒŒì¼ì„ ë§Œë“ ë‹¤. (`home.html` ,`about_me.html`)



![image-20220422140342224](220422.assets/image-20220422140342224.png)



![image-20220422140537804](220422.assets/image-20220422140537804.png)



`home.html` ë¶€í„° ì‘ì„±í•œë‹¤

```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“Œsuyeeeì˜ í™ˆí˜ì´ì§€ğŸ“Œ</title>
</head>
<body>
    <nav>
        <a href="/blog/">Blog</a>
        <a href="/about_me/">About Me</a>
    </nav>

    <h1>í™ˆí˜ì´ì§€ì…ë‹ˆë‹¤.</h1>
    <h2>ì•„ì§ìˆ˜ì •ì¤‘ì…ë‹ˆë‹¤</h2>
    <p>ã… ã… </p>
</body>
</html>
```



ë‹¨ì¶•í‚¤ tip

```html
a ì¹˜ê³  tab ëˆ„ë¥´ë©´

<a href=""></a>

ì´ë ‡ê²Œ ìë™ìœ¼ë¡œ ë‚˜ì˜¨ë‹¤.
```



ì €ì¥(`ctrl + s`) ëˆ„ë¥´ê³  ìƒˆë¡œê³ ì¹¨ í›„ ì„œë²„ ë“¤ì–´ê°€ë³´ë©´



![image-20220422141837374](220422.assets/image-20220422141837374.png)



`about_me.html` ë“¤ì–´ê°€ì„œ ì‘ì—…

```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portfolio</title>
</head>
<body>
    <nav>
        <a href="/blog/">Blog</a>
        <a href="/">Home</a>
    </nav>

    <h1>í¬íŠ¸í´ë¦¬ì˜¤ì…ë‹ˆë‹¤.</h1>
    <h2>í”„ë¡œì íŠ¸ 1</h2>
    <p>ìˆ˜ì •ì¤‘</p>
</body>
</html>
```



![image-20220422141901169](220422.assets/image-20220422141901169.png)



![image-20220422141914457](220422.assets/image-20220422141914457.png)



****



### CBV ë°©ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ë³´ì

ì§€ê¸ˆê¹Œì§€ëŠ” FBV ë¡œ ë§Œë“¤ì—ˆëŠ”ë° ì´ë²ˆì—” CBV ë¡œ ë§Œë“¤ì–´ë³´ì

19. ë‹¤ì‹œ blogí´ë”ì˜ `views.py`ë¡œ ë“¤ì–´ì™€ì„œ

```python
from django.shortcuts import render    # ì´ ë‘ì¤„ ë¹¼ê³  ë‚˜ë¨¸ì§€ ì½”ë“œ ì „ë¶€ ë‹¤ ì£¼ì„ì²˜ë¦¬!
from .models import Post
```



```python
from django.shortcuts import render 
from .models import Post

# 'ListView' ë¶ˆëŸ¬ì˜¨ë‹¤.
from django.views.generic import ListView

# CBV ë°©ì‹ìœ¼ë¡œ ê°œë°œ!!
class PostList(ListView):
    #1. PostListì—ì„œ í‘œí˜„í•  ëª¨ë¸ ì§€ì •
    model = Post
```



blogì˜ `urls.py` íŒŒì¼ë¡œ ë“¤ì–´ê°€ì„œ

```python
#path('', views.index),  ì›ë˜ì“°ë˜ ì• ëŠ” ì£¼ì„ì²˜ë¦¬í•˜ê³  ìƒˆë¡­ê²Œ ì¨ì¤€ë‹¤.
path('', views.PostList.as_view()),
#path('<int:pk>/', views.single_post_page) ì–˜ë„ ì£¼ì„ì²˜ë¦¬!
```



ë¸Œë¼ìš°ì €ë¡œ í•œë²ˆë” í™•ì¸.

![image-20220422142849255](220422.assets/image-20220422142849255.png)



ë©”ì¸í˜ì´ì§€ ì˜ ëœ¬ë‹¤.

 blogë¡œ ë“¤ì–´ê°€ë³´ë©´

![image-20220422142939858](220422.assets/image-20220422142939858.png)



HTML ì—†ë‹¤ê³  ëœ¸. ê·¼ë° ì´ë¯¸ ë§Œë“¤ì–´ë‘”ê±° ì“°ëŠ”ê²Œ í¸í•˜ë‹ˆê¹Œ `index.html`  ì„ ë‹¤ì‹œ ì‚¬ìš©í• êº¼ë‹¤.



ë‹¤ì‹œ blogí´ë”ì˜ `views.py`ë¡œ ë“¤ì–´ì™€ì„œ 

```python
class PostList(ListView):
    model = Post
    
    #2. í‘œì‹œí•´ì¤„ html ì§€ì •
    template_name = 'blog/index.html' 
```



`index.html` ì—ì„œ

```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>

    <style>
        .title:hover{
            color: beige;
            background-color: skyblue;
        }
    </style>
</head>
<body>
    <h1>Blog</h1>
    {% for p in post_list %}   #ì´ê±° ë°”ê¿”ì¤€ë‹¤. post_list ë¡œ
        <!-- <h3 class="title">{{ p }}</h3> -->
        <hr />
        <h2><a href="{{ p.get_absolute_url }}">{{ p.title }}</a></h2>
        <!-- <h4>{{ p.created_at }}</h4>
        <p>{{ p.content }}</p> -->
    {% endfor %}
</body>
</html>
```



ë‹¤ì‹œ ë¸Œë¼ìš°ì €ë¡œ ë“¤ì–´ì˜¤ë©´

![image-20220422145743336](220422.assets/image-20220422145743336.png)



ì´ì   blogê°€ ì˜ ëœ¬ë‹¤



![image-20220422143612498](220422.assets/image-20220422143612498.png)





![image-20220422143840668](220422.assets/image-20220422143840668.png)

 template_name ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤.



![image-20220422143923473](220422.assets/image-20220422143923473.png)

`attribute` ë¼ê³ í•´ì„œ ë§‰ ì „ë‹¬í• ìˆ˜ìˆëŠ”ê±´ ì•„ë‹ˆë‹ˆ `attribute` ë„ ì´ë¦„ì´ í•„ìš”í•œë‹¤.  ë³´ë‚¼ ë•Œ ì´ë¦„ì€ ìë™ìœ¼ë¡œ ì„¸íŒ…í•´ì¤€ë‹¤.

![image-20220422144016791](220422.assets/image-20220422144016791.png)







![image-20220422144111407](220422.assets/image-20220422144111407.png)

ì´ì œ  `index.html` ì˜ post_list ë¡œ ë“¤ì–´ê°€ëŠ”ê±°ë‹¤.



ì•„ê¹Œ ê·¸ ì„œë²„ ì‚¬ì§„ì„ ë³´ë©´ ì²«ë²ˆì§¸ ê²Œì‹œê¸€ì´ ë˜ ìœ„ë¡œ ì˜¬ë¼ì™€ë²„ë ¸ë‹¤. ë‹¤ì‹œ ì •ë ¬í•´ì£¼ì.

20. blogí´ë”ì˜ `views.py`ë¡œ ë“¤ì–´ê°€ì„œ `ordering` ì¨ì¤€ë‹¤.

```python
#CBV ë°©ì‹ìœ¼ë¡œ ê°œë°œ!!
class PostList(ListView):
    #1. PostListì—ì„œ í‘œí˜„í•  ëª¨ë¸ ì§€ì •
    model = Post
    
    #ì¡°íšŒëœ ë°ì´í„°ë¥¼ ì—­ìˆœìœ¼ë¡œ ì •ë ¬í•˜ê¸°
    ordering = '-pk'
    
    #2. í‘œì‹œí•´ì¤„ html ì§€ì •
    template_name = 'blog/index.html'
```



ë¸Œë¼ìš°ì €ë¡œ ë“¤ì–´ê°€ë³´ë©´

![image-20220422145630312](220422.assets/image-20220422145630312.png)

ì—­ìˆœìœ¼ë¡œ ì˜ ë‚˜ì™”ë‹¤.



21. ê·¸ë¦¬ê³  ì´ì   ìƒì„¸í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ë³´ì

blogí´ë”ì˜ `views.py`ì—ì„œ 

```python
from django.views.generic import DetailView 


# CBV ë¡œ ìƒì„¸í˜ì´ì§€ ë§Œë“¤ê¸°
class PostDetail(DetailView):
    #ê¸°ë³¸ì ìœ¼ë¡œ ìƒì„¸í˜ì´ì§€ë¥¼ ìœ„í•œ ì¡°íšŒëŠ” ëª¨ë¸ì—ì„œ pk ë¥¼ í™œìš©í•´ì„œ ì¡°íšŒ
    model = Post
    template_name = 'blog/single_post_page.html'
```

ì´ë ‡ê²Œ ë§Œë“¤ì–´ì£¼ë©´ ìë™ìœ¼ë¡œ `pk`ë¥¼ í™œìš©í•´ì„œ ì•Œì•„ì„œ ì¡°íšŒë¥¼ í•´ì¤€ë‹¤.

ì•Œì•„ì„œ pkë¡œ ì¡°íšŒë¥¼ í•œë‹¤. ëª¨ë¸ë§Œ ì§€ì •ì„ í•´ì£¼ë©´ ì¥ê³ ê°€ ë‹¤ ì•Œì•„ì„œ í•´ì¤€ë‹¤.



22. blogì˜ `urls.py` íŒŒì¼ë¡œ ë„˜ì–´ì™€ì„œ

```python
path('', views.PostList.as_view()),
path('<int:pk>/', views.PostDetail.as_view()) #ì´ê±° ì ì–´ì£¼ë©´ë¨.
```



ì„œë²„ë¡œ ë“¤ì–´ê°€ë³´ë©´

ì´ì œ ê²Œì‹œê¸€ ì œëª©ì„ ëˆ„ë¥´ë©´ ìƒì„¸í˜ì´ì§€ë¡œ ë“¤ì–´ê°€ì§„ë‹¤.







****

# ìŠ¤í„°ë”” ì‹œê°„ ê³¼ì œ



![image-20220422151047654](220422.assets/image-20220422151047654.png)





## ì´ˆê¸°ì…‹íŒ…

1. ì¥ê³  í”„ë¡œì íŠ¸ë¶€í„° ë§Œë“¤ì–´ì¤€ë‹¤. `django-admin startproject`

```powershell
(base) C:\Users\suyeo>cd pr_python
```

```powershell
(base) C:\Users\suyeo\pr_python>django-admin startproject prdjango
```



2. VSCode ì—ì„œ ìƒˆë¡­ê²Œë§Œë“  ì¥ê³ í”„ì ì„ ì—´ì–´ì¤€ ë’¤ ê´€ë¦¬ì ê³„ì •ì„ ìƒì„±í•œë‹¤.

```powershell
#ë§ˆì´ê·¸ë ˆì´íŠ¸ ë¨¼ì € ì§„í–‰
(base) C:\Users\suyeo\pr_python\prdjango>python manage.py migrate
```

ì¶œë ¥

```powershell
Operations to perform:
  Apply all migrations: admin, auth, contenttypes, sessions
Running migrations:
  Applying contenttypes.0001_initial... OK
  Applying auth.0001_initial... OK
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying contenttypes.0002_remove_content_type_name... OK
  Applying auth.0002_alter_permission_name_max_length... OK
  Applying auth.0003_alter_user_email_max_length... OK
  Applying auth.0004_alter_user_username_opts... OK
  Applying auth.0005_alter_user_last_login_null... OK
  Applying auth.0006_require_contenttypes_0002... OK
  Applying auth.0007_alter_validators_add_error_messages... OK
  Applying auth.0008_alter_user_username_max_length... OK
  Applying auth.0009_alter_user_last_name_max_length... OK
  Applying auth.0010_alter_group_name_max_length... OK
  Applying auth.0011_update_proxy_permissions... OK
  Applying sessions.0001_initial... OK
```



```powershell
#ê³„ì •ìƒì„±
(base) C:\Users\suyeo\pr_python\prdjango>python manage.py createsuperuser
```

ì¶œë ¥

```powershell
Username (leave blank to use 'suyeo'): admin_suyeo2
Email address: suyeee@github.com
Password: 
Password (again):
This password is too short. It must contain at least 8 characters.
This password is too common.
This password is entirely numeric.
Bypass password validation and create user anyway? [y/N]: y
Superuser created successfully.
```



3. ë¸Œë¼ìš°ì € ì—´ì–´ì„œ ê´€ë¦¬ì í˜ì´ì§€ í™•ì¸í•´ì¤€ë‹¤.

```powershell
(base) C:\Users\suyeo\pr_python\prdjango>python manage.py runserver
```



ë¸Œë¼ìš°ì € ì¶œë ¥

![image-20220422154233527](220422.assets/image-20220422154233527.png)



ê´€ë¦¬ì í˜ì´ì§€ê°€ ì˜ ë§Œë“¤ì–´ì ¸ ìˆëŠ”ìƒíƒœê³  ì´ì œ ê²Œì‹œíŒì„ ë§Œë“ ë‹¤.



4. `blog`ì™€ `single_pages` ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“ ë‹¤.

```powershell
(base) C:\Users\suyeo\pr_python\prdjango>python manage.py startapp blog
```

```powershell
(base) C:\Users\suyeo\pr_python\prdjango>python manage.py startapp single_pages
```



5. ê²Œì‹œíŒ ë§Œë“¤ê¸° (ì˜ë˜ëŠ”ì§€ test ë§Œ í•˜ê¸°ìœ„í•´ ê°„ë‹¨í•˜ê²Œ ê·œì¹™ ì‘ì„±)

+ blog í´ë”ì˜ `models.py` íŒŒì¼ì—ì„œ (ê²Œì‹œíŒ ê·œì¹™ ìƒì„±)

```python
from django.db import models

class PostBoard(models.Model):
    
    title = models.CharField(max_length=30)
    content = models.TextField()
    created_time = models.DateTimeField(auto_now_add=True) # ì²˜ìŒ ë§Œë“¤ì–´ì§ˆë•Œ ìë™ìœ¼ë¡œ ì‹œê°„ì´ ë“¤ì–´ê°„ë‹¤.
    updated_time = models.DateTimeField(auto_now=True)
    
    def __str__(self):
        return f'[{self.pk}] {self.title}'
```



+ `makemigrations` í•˜ê¸°ì „ì— ë§Œë“  ì•±ë“¤ ë“±ë¡ì‹œì¼œì¤€ë‹¤.

`prdjango` í´ë”ì˜ `settings.py` íŒŒì¼ì— ë“¤ì–´ê°„ë‹¤.

```python
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'blog',
    'single_pages'
]
```



+ ë§ˆì´ê·¸ë ˆì´ì…˜ ë§Œë“¤ì–´ ì£¼ê¸°

```powershell
(base) C:\Users\suyeo\pr_python\prdjango>python manage.py makemigrations
```

ì¶œë ¥

```powershell
Migrations for 'blog':
  blog\migrations\0001_initial.py
    - Create model PostBoard
```



+ ë§ˆì´ê·¸ë ˆì´íŠ¸ ë³€ê²½ ë°˜ì˜

```powershell
(base) C:\Users\suyeo\pr_python\prdjango>python manage.py migrate
```

ì¶œë ¥

```powershell
Operations to perform:
  Apply all migrations: admin, auth, blog, contenttypes, sessions
Running migrations:
  Applying blog.0001_initial... OK
```



+ blog í´ë”ì˜ `admin.py` íŒŒì¼ì—ì„œ (ë‚´ê°€ ë§Œë“  ê·œì¹™ì˜ ëª¨ë¸ ë“±ë¡)

```python
from django.contrib import admin

# Register your models here.
from .models import PostBoard

#ëª¨ë¸ ë“±ë¡ì‹œí‚¤ê¸°
admin.site.register(PostBoard)
```



+ ë¸Œë¼ìš°ì € ì‹¤í–‰

```powershell
(base) C:\Users\suyeo\pr_python\prdjango>python manage.py runserver
```



ë¸Œë¼ìš°ì € ì¶œë ¥ í™•ì¸

![image-20220422170744647](220422.assets/image-20220422170744647.png)



## ê²Œì‹œíŒ ë‹¤ë“¬ê¸°

1. ê²Œì‹œíŒ ì‹œê°„ ì„¤ì •

![image-20220422171332659](220422.assets/image-20220422171332659.png)

ê²Œì‹œíŒì— ê¸€ì„ ì‘ì„±í•œí›„ ì‹œê°„ì„ í™•ì¸í•´ë³´ë©´ `2022-04-22 17:12` ì— ì‘ì„±í•œ ê²Œì‹œê¸€ ì¸ë°ë„ `08:12` ìœ¼ë¡œ ë‚˜ì™€ìˆëŠ”ê²ƒì„ í™•ì¸í• ìˆ˜ìˆë‹¤.



prdjango ì˜ `settings.py` ì— ë“¤ì–´ê°€ì„œ

```python
LANGUAGE_CODE = 'en-us'

TIME_ZONE = 'UTC'

USE_I18N = True

USE_L10N = True

USE_TZ = True
```

ì´ ë¶€ë¶„ì„ 

```python
LANGUAGE_CODE = 'en-us'

TIME_ZONE = 'Asia/Seoul' #ì—¬ê¸°

USE_I18N = True

USE_L10N = True

USE_TZ = False   #ì—¬ê¸°
```

 ì´ë ‡ê²Œ ë‘ê°œ ìˆ˜ì •í•´ì¤€ë‹¤.



ë¸Œë¼ìš°ì €ë¡œ ë‹¤ì‹œ ë“¤ì–´ê°€ì„œ í™•ì¸í•´ë³´ë©´

![image-20220422171819434](220422.assets/image-20220422171819434.png)

ì˜ ë°”ë€ê²ƒì„ í™•ì¸í• ìˆ˜ìˆë‹¤.



###  CBV ë°©ì‹ - Class Based View

2.  url ìˆ˜ì • (controller)

prdjango í´ë”ì˜ `urls.py` íŒŒì¼ì—ì„œ ì‘ì—…

```python
from django.contrib import admin
from django.urls import path,include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('blog/', include('blog.urls')),
    path('', include('single_pages.urls'))
]
# í´ë¼ì´ì–¸íŠ¸ê°€ blog/ ë¡œ ì ‘ì†í•˜ë©´ blog.urls.pyë¥¼ ì°¸ì¡°í•˜ë„ë¡ í•œë‹¤.
```



ê°ê°ì˜ ì•±ì—  `urls.py` íŒŒì¼ì„ ë§Œë“¤ì–´ì¤€ë‹¤.

ê·¸ í›„,



3. ì´ì œ blog ì˜ views(ê¸°ëŠ¥)ì„ ë‹¤ë“¬ëŠ”ë‹¤.

`views.py` íŒŒì¼ì—ì„œ

```python
from django.shortcuts import render
from .models import PostBoard
from django.views.generic import ListView
from django.views.generic import DetailView

class PostList(ListView):
    #1. PostListì—ì„œ í‘œí˜„í•  ëª¨ë¸ ì§€ì •
    model = PostBoard
    
    #ì¡°íšŒëœ ë°ì´í„°ë¥¼ ì—­ìˆœìœ¼ë¡œ ì •ë ¬í•˜ê¸°
    ordering = '-pk'
    
    #2. í‘œì‹œí•´ì¤„ html ì§€ì •
    template_name = 'blog/index.html'
    
# CBV ë¡œ ìƒì„¸í˜ì´ì§€ ë§Œë“¤ê¸°
class PostDetail(DetailView):
    #ê¸°ë³¸ì ìœ¼ë¡œ ìƒì„¸í˜ì´ì§€ë¥¼ ìœ„í•œ ì¡°íšŒëŠ” ëª¨ë¸ì—ì„œ pk ë¥¼ í™œìš©í•´ì„œ ì¡°íšŒ
    model = PostBoard
    template_name = 'blog/single_post_page.html'

```



blogí´ë”ì˜  `urls.py` ì—ì„œ ì‘ì—…ì‹œì‘

```python
#ê²½ë¡œ ë§Œë“¤ì–´ì£¼ê¸°
# ì‚¬ìš©ìê°€ ìš”ì²­í• ìˆ˜ìˆëŠ” url ë§Œë“¤ì–´ì£¼ê¸°

from django.urls import path
from . import views

# urlpatterns : ì‚¬ìš©ìê°€ ìš”ì²­í•œ url ì— ëŒ€í•œ ê¸°ëŠ¥(view) ì •ì˜

urlpatterns = [
    #ì‚¬ìš©ìê°€ ë¸”ë¡œê·¸ ë’¤ì— ì•„ë¬´ê²ƒë„ ë¶™ì´ì§€ ì•Šê³  ìš”ì²­ì„ í•˜ë©´ Viewsì˜ PostList í´ë˜ìŠ¤ë¥¼ ì‹¤í–‰í•´ì£¼ê² ë‹¨ê²ƒ
    path('', views.PostList.as_view()),
    path('<int:pk>/', views.PostDetail.as_view())
]

```



4. blog í´ë”ì˜ html íŒŒì¼ ì‘ì—…

blog ì˜ `blog/index.html` , `blog/single_post_page.html` ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ `templates` í´ë”ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤.











